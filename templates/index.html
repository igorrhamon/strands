<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Strands Governance</title><script src="https://cdn.tailwindcss.com"></script><style>.focus-ring:focus { outline: none; box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.5); }</style></head>
<body class="bg-slate-50 text-slate-900 font-sans min-h-screen p-4 md:p-8"><header class="max-w-4xl mx-auto flex justify-between items-center mb-8"><h1 class="text-2xl font-extrabold text-slate-800 tracking-tight">ðŸŽ¨ Strands Governance</h1>
<button onclick="fetch('/simulate/alert?active=true',{method:'POST'}).then(()=>location.reload())" class="bg-blue-600 text-white px-5 py-2 rounded-lg font-medium hover:bg-blue-700 transition focus-ring" aria-label="Simulate new alert">Simulate Alert</button></header>
<main class="max-w-4xl mx-auto space-y-6">{% if not decisions %}<div class="bg-white p-12 rounded-2xl shadow-sm border border-slate-200 text-center"><div class="text-5xl mb-4">ðŸ§Š</div><p class="text-slate-500 font-medium">No pending decisions. The swarm is observing.</p></div>{% endif %}
{% for d in decisions %}<section class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200 hover:border-blue-300 transition-all duration-300"><div class="flex justify-between items-start gap-4 mb-4"><div><span class="inline-block px-2.5 py-1 rounded-md text-xs font-bold uppercase tracking-wider {% if d.severity=='critical' %}bg-red-100 text-red-700{% else %}bg-amber-100 text-amber-700{% endif %}">{{ d.service or 'Global' }}</span><h2 class="text-xl font-bold mt-2 text-slate-800">{{ d.summary }}</h2></div><time class="text-xs font-medium text-slate-400 whitespace-nowrap bg-slate-50 px-2 py-1 rounded">{{ d.created_at[:16] }}</time></div>
<div class="bg-slate-50 p-4 rounded-xl mb-6 border-l-4 border-blue-500"><p class="text-slate-700 leading-relaxed font-medium">{{ d.primary_hypothesis }}</p></div><div class="flex flex-wrap gap-4"><button onclick="submitReview('{{d.decision_id}}', true, this)" class="flex-1 bg-emerald-600 text-white font-bold py-3 rounded-xl hover:bg-emerald-700 transition focus-ring disabled:opacity-50" aria-label="Approve decision">Approve</button>
<button onclick="submitReview('{{d.decision_id}}', false, this)" class="flex-1 bg-rose-600 text-white font-bold py-3 rounded-xl hover:bg-rose-700 transition focus-ring disabled:opacity-50" aria-label="Reject decision">Reject</button></div></section>{% endfor %}</main>
<script>function submitReview(id, approved, btn) { const originalText = btn.innerText; btn.innerText = 'Processing...'; btn.disabled = true; fetch(`/decisions/${id}/review`, { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({decision_id: id, is_approved: approved, validated_by: 'Human Operator'}) }).then(r => r.json()).then(data => { if(data.status==='success') { btn.innerText = 'âœ… Confirmed'; setTimeout(() => location.reload(), 1000); } else { btn.innerText = 'âŒ Failed'; btn.disabled = false; } }).catch(() => { btn.innerText = originalText; btn.disabled = false; alert('Network Error'); }); }</script>
</body></html>
